(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{183:function(e,t,n){e.exports=n(446)},188:function(e,t,n){},446:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(176),r=n.n(o),s=(n(188),n(22)),l=n(23),c=n(25),u=n(24),h=n(26),d=(n(90),n(14)),m=n(182),p=n(52);function f(e,t,n){try{p.mermaidAPI.initialize({startOnLoad:!0}),p.mermaidAPI.parseError=function(e,t){},p.mermaidAPI.render(e,t,function(e){n({diagram:e,input:t})})}catch(a){console.log("Failed to generate diagram"),console.log(a)}}var g=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={diagram:{__html:""}},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;f(this.props.title,this.props.diagram,function(t){var n=t.diagram,a=t.input;e.setState({diagram:{__html:n},input:a})})}},{key:"shouldComponentUpdate",value:function(e,t){var n=this;return e.diagram!==this.props.diagram?(f(this.props.title,e.diagram,function(e){var t=e.diagram,a=e.input;n.setState({diagram:{__html:t},input:a})}),!1):t.diagram!==this.state.diagram}},{key:"render",value:function(){return i.a.createElement("div",{dangerouslySetInnerHTML:this.state.diagram,style:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"center"},this.props.style)})}}]),t}(i.a.Component);g.defaultProps={title:"diagram",frameBorder:0};var b=g,v=n(177),y=n.n(v),x=n(178),S=n(179),w=n.n(S),k=(n(87),n(53)),O=n.n(k),j=(n(436),n(438),n(439),n(440),n(441),n(442),n(88)),B=n(180),C=n.n(B),E=function(e){var t=e.location;try{var n=t.search,a=C.a.parse(n).code;return{code:j.Base64.decode(a)}}catch(i){return console.log("Using default code"),{code:'const myFunction = (x) => {\n  if(x>0){\n    return "ok"\n  } else {\n    throw "not ok"\n  }\n}'}}},D=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={source:"graph TB; Init;",error:null,status:"init"},n.handleChange=n.handleChange.bind(Object(d.a)(Object(d.a)(n))),n.handleSubmitDirect=n.handleSubmitDirect.bind(Object(d.a)(Object(d.a)(n))),n.handleSubmit=y()(200,n.handleSubmitDirect).bind(Object(d.a)(Object(d.a)(n))),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=j.Base64.encodeURI(e);this.props.history.push("./?code=".concat(t)),this.handleSubmit()}},{key:"handleSubmitDirect",value:function(){var e=this;setTimeout(function(){var t=E({location:e.props.location}).code;e.setState({source:"graph TB; Loading;",status:"loading"},function(){setTimeout(function(){try{var n=Object(x.transformJsStringToMermaidString)(t);e.setState({source:n,status:"loaded",error:null})}catch(a){e.setState({status:"error",error:a})}},0)})},0)}},{key:"componentDidMount",value:function(){var e=E({location:this.props.location}).code;this.handleChange(e)}},{key:"render",value:function(){var e=this,t=E({location:this.props.location}).code;return i.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:"100vh",alignItems:"stretch",flexWrap:"wrap"}},i.a.createElement("div",{style:{flexBasis:"50%",flexShrink:1,flexGrow:1,height:"100%"}},i.a.createElement(O.a,{mode:"javascript",theme:"monokai",onChange:this.handleChange,name:"code-ace-editor",editorProps:{$blockScrolling:!0},value:t,style:{flexBasis:"50%",flexShrink:1,flexGrow:1,width:"100%",height:"100%"},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2}})),i.a.createElement("button",{onClick:this.handleSubmitDirect,style:{position:"relative",fontWeight:600,outline:"none",color:"white",fontSize:"1.2em",borderRadius:"100%",border:"none",backgroundColor:"#FF44FF",width:60,height:60,marginLeft:-30,marginRight:-30,alignSelf:"center",zIndex:9999}},"loading"!==this.state.status?"Go":"Wait"),null===this.state.error||void 0===this.state.error?i.a.createElement("div",{style:{flexBasis:"50%",flexShrink:1,flexGrow:0,height:"100%",display:"flex",flexDirection:"column"}},i.a.createElement(b,{diagram:this.state.source,style:{flexBasis:"80%",flexShrink:1,flexGrow:1}}),i.a.createElement("button",{onClick:function(){w()(e.state.source,{debug:!0,message:"Press #{key} to copy"}),e.setState({status:"copied"})},style:{color:"white",borderRadius:"0",border:"none",outline:"none",backgroundColor:"#FF44FF",flexBasis:"30px",flexShrink:0,flexGrow:1,width:"100%",minHeight:"30px"}},"copied"!==this.state.status?"Copy graph code to clipboard":"Copied!"),i.a.createElement(O.a,{theme:"github",readOnly:!0,name:"result-ace-editor",editorProps:{$blockScrolling:!0},value:this.state.source,style:{flexBasis:"20%",flexShrink:0,flexGrow:0,width:"100%",height:"20%"},setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!1,tabSize:2}})):i.a.createElement("div",{style:{flexBasis:"50%",flexShrink:0,flexGrow:0,height:"100%",display:"flex",flexDirection:"column"}},i.a.createElement(O.a,{theme:"github",readOnly:!0,name:"error-ace-editor",editorProps:{$blockScrolling:!0},value:this.state.error.message,style:{flexBasis:"100%",flexShrink:0,flexGrow:0,width:"100%",height:"100%",color:"red"},setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!1,tabSize:2}})))}}]),t}(a.Component),F=n(448),I=n(449),L=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(F.a,null,i.a.createElement(I.a,{component:D}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},90:function(e,t,n){}},[[183,2,1]]]);
//# sourceMappingURL=main.3fe6ab54.chunk.js.map